<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Complet Menu</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: Arial, sans-serif;
      background: #1a1a2e;
      color: white;
      min-height: 100vh;
    }
    
    /* SIDEBAR OVERLAY */
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.7);
      z-index: 998;
    }
    .sidebar-overlay.active {
      display: block;
    }
    
    /* SIDEBAR */
    .sidebar {
      position: fixed;
      left: -280px;
      top: 0;
      width: 280px;
      height: 100vh;
      background: #16213e;
      z-index: 999;
      transition: left 0.3s ease;
      padding: 20px;
    }
    .sidebar.open {
      left: 0;
    }
    
    /* HEADER MOBILE */
    .mobile-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 15px;
      background: #16213e;
      border-bottom: 1px solid #333;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    /* BOUTON MENU */
    .mobile-menu-btn {
      width: 50px;
      height: 50px;
      background: #0f3460;
      border: 2px solid #f59e0b;
      border-radius: 10px;
      color: white;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      user-select: none;
    }
    .mobile-menu-btn:active {
      background: #f59e0b;
    }
    
    /* CONTENU */
    .content {
      padding: 20px;
    }
    
    .nav-item {
      display: block;
      width: 100%;
      padding: 15px;
      margin: 5px 0;
      background: #0f3460;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      text-align: left;
      cursor: pointer;
    }
    
    .close-btn {
      width: 100%;
      padding: 15px;
      margin-top: 20px;
      background: #ef4444;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
    
    #log {
      background: #000;
      padding: 15px;
      margin: 20px 0;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      max-height: 150px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <!-- OVERLAY -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>
  
  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <h2 style="margin-bottom: 20px;">ðŸ“± Menu</h2>
    <button class="nav-item">ðŸ“Š Dashboard</button>
    <button class="nav-item">ðŸš² VehÃ­culos</button>
    <button class="nav-item">ðŸ“‹ Alquileres</button>
    <button class="nav-item">ðŸ‘¥ Clientes</button>
    <button class="close-btn" id="closeBtn">âœ• Fermer le menu</button>
  </aside>
  
  <!-- HEADER -->
  <div class="mobile-header">
    <button class="mobile-menu-btn" id="menuBtn">â˜°</button>
    <span style="font-weight: bold;">VOLTRIDE</span>
    <span>ES</span>
  </div>
  
  <!-- CONTENU -->
  <div class="content">
    <h1>ðŸ§ª Test Complet</h1>
    <p>Appuie sur le bouton â˜° pour ouvrir le menu</p>
    
    <div id="log">Logs:<br></div>
  </div>
  
  <script>
    // Fonction de log
    function log(msg) {
      var logDiv = document.getElementById('log');
      logDiv.innerHTML += new Date().toLocaleTimeString() + ' - ' + msg + '<br>';
      logDiv.scrollTop = logDiv.scrollHeight;
    }
    
    // RÃ©cupÃ©rer les Ã©lÃ©ments
    var menuBtn = document.getElementById('menuBtn');
    var sidebar = document.getElementById('sidebar');
    var overlay = document.getElementById('sidebarOverlay');
    var closeBtn = document.getElementById('closeBtn');
    
    log('Ã‰lÃ©ments trouvÃ©s: menuBtn=' + !!menuBtn + ', sidebar=' + !!sidebar + ', overlay=' + !!overlay);
    
    // Fonction pour ouvrir le menu
    function openMenu() {
      log('openMenu() appelÃ©');
      sidebar.classList.add('open');
      overlay.classList.add('active');
      log('Menu OUVERT');
    }
    
    // Fonction pour fermer le menu
    function closeMenu() {
      log('closeMenu() appelÃ©');
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      log('Menu FERMÃ‰');
    }
    
    // Ã‰vÃ©nement sur le bouton menu
    menuBtn.addEventListener('click', function(e) {
      log('Click sur menuBtn dÃ©tectÃ©');
      openMenu();
    });
    
    // Ã‰vÃ©nement sur l'overlay
    overlay.addEventListener('click', function() {
      log('Click sur overlay');
      closeMenu();
    });
    
    // Ã‰vÃ©nement sur le bouton fermer
    closeBtn.addEventListener('click', function() {
      log('Click sur closeBtn');
      closeMenu();
    });
    
    // Fermer avec les nav-items
    document.querySelectorAll('.nav-item').forEach(function(item) {
      item.addEventListener('click', function() {
        log('Click sur nav-item');
        closeMenu();
      });
    });
    
    log('Script initialisÃ© OK');
  </script>
</body>
</html>
